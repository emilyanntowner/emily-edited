<header class="site-header" role="banner">
  <div class="wrapper">
    {%- assign default_paths = site.pages | map: "path" -%}
    {%- assign page_paths = site.minima.nav_pages | default: site.header_pages | default: default_paths -%}
    {%- assign titles_size = site.pages | map: 'title' | join: '' | size -%}
    
    <a class="site-title" rel="author" href="{{ "/" | relative_url }}">{{ site.title | escape }}</a>

    <!-- Social icons in top right -->
    <div class="header-social-links">
      {%- if site.minima.social_links -%}
        <ul class="social-media-list">
          {%- for entry in site.minima.social_links -%}
            <li>
              {%- if entry.icon == "web" -%}
                <a href="{{ entry.url }}" target="_blank" title="{{ entry.title }}">
                  {%- include social-icons/globe.svg -%}
                </a>
              {%- elsif entry.icon == "bluesky" -%}
                <a rel="me" href="{{ entry.url }}" target="_blank" title="{{ entry.title }}">
                  <svg class="svg-icon" viewBox="0 0 512 512" width="16" height="16">
                    <path d="M111.8 62.2C170.2 105.9 233 194.7 256 242.4c23-47.6 85.8-136.4 144.2-180.2c42.1-31.6 110.3-56 110.3 21.8c0 15.5-8.9 130.5-14.1 149.2C478.2 298 412 314.6 353.1 304.5c102.9 17.5 129.1 75.5 72.5 133.5c-107.4 110.2-154.3-27.6-166.3-62.9l0 0c-1.7-4.9-2.6-7.8-3.3-7.8s-1.6 3-3.3 7.8l0 0c-12 35.3-59 173.1-166.3 62.9c-56.5-58-30.4-116 72.5-133.5C100 314.6 33.8 298 15.7 233.1C10.4 214.4 1.5 99.4 1.5 83.9c0-77.8 68.2-53.4 110.3-21.8z"/>
                  </svg>
                </a>
              {%- elsif entry.icon == "hand-holding-heart" -%}
                <a href="{{ entry.url }}" target="_blank" title="{{ entry.title }}">
                  <svg class="svg-icon" viewBox="0 0 576 512" width="16" height="16">
                    <path d="M163.9 136.9c-29.4-29.8-29.4-78.2 0-108s77-29.8 106.4 0l17.7 18 17.7-18c29.4-29.8 77-29.8 106.4 0s29.4 78.2 0 108L310.5 240.1c-6.2 6.3-14.3 9.4-22.5 9.4s-16.3-3.1-22.5-9.4L163.9 136.9zM568.2 336.3c13.1 17.8 9.3 42.8-8.5 55.9L433.1 485.5c-23.4 17.2-51.6 26.5-80.7 26.5L192 512 32 512c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l36.8 0 44.9-36c22.7-18.2 50.9-28 80-28l78.3 0 16 0 64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0-16 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l120.6 0 119.7-88.2c17.8-13.1 42.8-9.3 55.9 8.5zM193.6 384c0 0 0 0 0 0l-.9 0c.3 0 .6 0 .9 0z"/>
                  </svg>
                </a>
              {%- else -%}
                <a rel="me" href="{{ entry.url }}" target="_blank" title="{{ entry.title }}">
                  <span class="grey fa-brands fa-{{ entry.icon }} fa-lg"></span>
                </a>
              {%- endif -%}
            </li>
          {%- endfor -%}
          {%- unless site.minima.hide_site_feed_link -%}
            <li>
              <a href="{{ site.feed.path | default: 'feed.xml' | absolute_url }}" target="_blank" title="Subscribe to syndication feed">
                <svg class="svg-icon" viewBox="0 0 16 16" width="16" height="16">
                  <path d="M12.8 16C12.8 8.978 7.022 3.2 0 3.2V0c8.777 0 16 7.223 16 16h-3.2zM2.194 11.61c1.21 0 2.195.985 2.195 2.196 0 1.21-.99 2.194-2.2 2.194C.98 16 0 15.017 0 13.806c0-1.21.983-2.195 2.194-2.195zM10.606 16h-3.11c0-4.113-3.383-7.497-7.496-7.497v-3.11c5.818 0 10.606 4.79 10.606 10.607z"/>
                </svg>
              </a>
            </li>
          {%- endunless -%}
        </ul>
      {%- endif -%}
    </div>

    {%- if titles_size > 0 -%}
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          {%- assign nav_categories = "science,psychology,neuroscience,academia" | split: "," -%}
          {%- for category in nav_categories -%}
            <a class="page-link" href="{{ '/categories/' | append: category | append: '/' | relative_url }}">{{ category | upcase }}</a>
          {%- endfor -%}
        </div>
      </nav>
    {%- endif -%}
  </div>
</header>